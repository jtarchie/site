---
title: "Ruby on Rails: Master the Power of Nested Resources in Routing"
description: "Explore the benefits of using nested resources in Ruby on Rails to create clean and organized routes. This guide provides an example and explanation of nested resources, demonstrating how they can improve your application's structure and maintainability."
---

# Ruby on Rails: Master the Power of Nested Resources in Routing

Ruby on Rails provides a powerful and flexible routing system to define the URLs
and their associated actions for your application. One technique that can
significantly improve your application's organization and maintainability is the
use of nested resources. This guide will demonstrate how to use nested resources
in Rails routing to create clean and organized routes.

Consider an example where you have a `Post` model and a `Comment` model, with a
`Post` having many `Comment`s:

```ruby
class Post < ApplicationRecord
  has_many :comments
end

class Comment < ApplicationRecord
  belongs_to :post
end
```

Without nested resources, your routes might look like this. However, this
approach can lead to less organized and less maintainable code, as comments are
not directly associated with posts in the routes.

```ruby
# config/routes.rb
Rails.application.routes.draw do
  resources :posts
  resources :comments
end
```

To improve organization and maintainability, you can use nested resources, by
putting `comments` within `posts`.

```ruby
# config/routes.rb
Rails.application.routes.draw do
  resources :posts do
    resources :comments
  end
end
```

By nesting the `:comments` resource inside the `:posts` resource, you create
URLs that reflect the hierarchical relationship between posts and comments, such
as:

```
/posts/:post_id/comments
/posts/:post_id/comments/:id
```

This allows you to access the associated `post_id` directly in your controllers.
Using nested resources in Rails routing can help you create clean, organized,
and maintainable routes that reflect the relationships between your models,
improving the overall structure and readability of your application.

```ruby
# app/controllers/comments_controller.rb
class CommentsController < ApplicationController
  before_action :set_post

  def index
    @comments = @post.comments
  end

  # ...

  private

  def set_post
    @post = Post.find(params[:post_id])
  end
end
```

## Subscribe for more tips